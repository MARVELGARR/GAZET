'use client'

import type { NavBarItemProps } from "@/interfaces/interface";
import useSelect from "@/hooks/useSelect";
import { usePathname, useRouter } from "next/navigation";
import { useEffect, useState } from "react";
import Link from "next/link";

const NavBarItem: React.FC<NavBarItemProps>  = ({image, name, href, index}) => {
    const [state, setState] = useState<number>(0)
    const router = useRouter()
    const params = usePathname()
    router.prefetch
    const handleClick = ( link: string, indexz: number) => {
        router.prefetch(link);
        handleSelect(indexz)
        window.location.href = `${link}`
    }
    useEffect(()=>{
        
        if(params == '/'){
            setState(0)
        }
        else if(params == '/client'){
            setState(1)
        }
        else if(params == '/invoice'){
            setState(2)
        }
        else if(params == '/charts'){
            setState(3)
        }
        else if(params== '/payment'){
            setState(4)
        }
        else if(params == '/reports'){
            setState(5)
        }
    },[params])
    
    const { handleSelect} = useSelect(state)

    return ( 
        <Link href={href} className={` ${state == 0 && index == 0 ? 'text-white fill-white bg-violet-600' : state == 1 && index == 1 ? 'text-white fill-white bg-violet-600' : state == 2 && index == 2 ? 'text-white fill-white bg-violet-600' : state == 3 && index == 3 ? 'text-white fill-white bg-violet-600' : state == 4 && index == 4 ? 'text-white fill-white bg-violet-600' : state == 5 && index == 5 ? 'text-white fill-white bg-violet-600' : 'fill-violet-600 text-black' } flex hover:bg-violet-600 hover:text-white fill-violet-600  hover:fill-white items-center rounded-xl justify-between w-full px-[2.5rem] py-[1rem] `}>
            {
                index == 0 &&(
                    <svg className={` ${state == 0 ? 'fill-white text-white ': ''}`} width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.83 8.01002L14.28 2.77002C13 1.75002 11 1.74002 9.73002 2.76002L3.18002 8.01002C2.24002 8.76002 1.67002 10.26 1.87002 11.44L3.13002 18.98C3.42002 20.67 4.99002 22 6.70002 22H17.3C18.99 22 20.59 20.64 20.88 18.97L22.14 11.43C22.32 10.26 21.75 8.76002 20.83 8.01002ZM12.75 18C12.75 18.41 12.41 18.75 12 18.75C11.59 18.75 11.25 18.41 11.25 18V15C11.25 14.59 11.59 14.25 12 14.25C12.41 14.25 12.75 14.59 12.75 15V18Z" fill=""/>
                    </svg>

                )
            }
            {   index == 1 && (
                    <svg className={``} width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 2C6.38 2 4.25 4.13 4.25 6.75C4.25 9.32 6.26 11.4 8.88 11.49C8.96 11.48 9.04 11.48 9.1 11.49C9.12 11.49 9.13 11.49 9.15 11.49C9.16 11.49 9.16 11.49 9.17 11.49C11.73 11.4 13.74 9.32 13.75 6.75C13.75 4.13 11.62 2 9 2Z" fill=""/>
                        <path d="M14.08 14.15C11.29 12.29 6.74002 12.29 3.93002 14.15C2.66002 15 1.96002 16.15 1.96002 17.38C1.96002 18.61 2.66002 19.75 3.92002 20.59C5.32002 21.53 7.16002 22 9.00002 22C10.84 22 12.68 21.53 14.08 20.59C15.34 19.74 16.04 18.6 16.04 17.36C16.03 16.13 15.34 14.99 14.08 14.15Z" fill=""/>
                        <path d="M19.99 7.33998C20.15 9.27998 18.77 10.98 16.86 11.21C16.85 11.21 16.85 11.21 16.84 11.21H16.81C16.75 11.21 16.69 11.21 16.64 11.23C15.67 11.28 14.78 10.97 14.11 10.4C15.14 9.47998 15.73 8.09998 15.61 6.59998C15.54 5.78998 15.26 5.04998 14.84 4.41998C15.22 4.22998 15.66 4.10998 16.11 4.06998C18.07 3.89998 19.82 5.35998 19.99 7.33998Z" fill=""/>
                        <path d="M21.99 16.59C21.91 17.56 21.29 18.4 20.25 18.97C19.25 19.52 17.99 19.78 16.74 19.75C17.46 19.1 17.88 18.29 17.96 17.43C18.06 16.19 17.47 15 16.29 14.05C15.62 13.52 14.84 13.1 13.99 12.79C16.2 12.15 18.98 12.58 20.69 13.96C21.61 14.7 22.08 15.63 21.99 16.59Z" fill=""/>
                    </svg>

                )
            }
            {
                index == 2 && (
                    <svg className={`${state == 2 ? 'fill-white text-white ': ''}`} width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.78 2H8.22C4.44 2 3.5 3.01 3.5 7.04V18.3C3.5 20.96 4.96 21.59 6.73 19.69L6.74 19.68C7.56 18.81 8.81 18.88 9.52 19.83L10.53 21.18C11.34 22.25 12.65 22.25 13.46 21.18L14.47 19.83C15.19 18.87 16.44 18.8 17.26 19.68C19.04 21.58 20.49 20.95 20.49 18.29V7.04C20.5 3.01 19.56 2 15.78 2ZM7.78 12C7.23 12 6.78 11.55 6.78 11C6.78 10.45 7.23 10 7.78 10C8.33 10 8.78 10.45 8.78 11C8.78 11.55 8.33 12 7.78 12ZM7.78 8C7.23 8 6.78 7.55 6.78 7C6.78 6.45 7.23 6 7.78 6C8.33 6 8.78 6.45 8.78 7C8.78 7.55 8.33 8 7.78 8ZM16.23 11.75H10.73C10.32 11.75 9.98 11.41 9.98 11C9.98 10.59 10.32 10.25 10.73 10.25H16.23C16.64 10.25 16.98 10.59 16.98 11C16.98 11.41 16.64 11.75 16.23 11.75ZM16.23 7.75H10.73C10.32 7.75 9.98 7.41 9.98 7C9.98 6.59 10.32 6.25 10.73 6.25H16.23C16.64 6.25 16.98 6.59 16.98 7C16.98 7.41 16.64 7.75 16.23 7.75Z" fill=""/>
                    </svg>

                )
            }
            {

                index == 3 && (
                    <svg className={``} width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 12.62V14.68C22 15.24 21.54 15.7 20.97 15.7H19.04C17.96 15.7 16.97 14.91 16.88 13.83C16.82 13.2 17.06 12.61 17.48 12.2C17.85 11.82 18.36 11.6 18.92 11.6H20.97C21.54 11.6 22 12.06 22 12.62Z" fill=""/>
                        <path d="M15.38 13.96C15.29 12.91 15.67 11.88 16.43 11.13C17.07 10.48 17.96 10.1 18.92 10.1H19.49C19.77 10.1 20 9.87002 19.96 9.59002C19.69 7.65002 18.01 6.15002 16 6.15002H6C3.79 6.15002 2 7.94002 2 10.15V17.15C2 19.36 3.79 21.15 6 21.15H16C18.02 21.15 19.69 19.65 19.96 17.71C20 17.43 19.77 17.2 19.49 17.2H19.04C17.14 17.2 15.54 15.78 15.38 13.96ZM13 11.9H7C6.59 11.9 6.25 11.57 6.25 11.15C6.25 10.73 6.59 10.4 7 10.4H13C13.41 10.4 13.75 10.74 13.75 11.15C13.75 11.56 13.41 11.9 13 11.9Z" fill=""/>
                        <path d="M14.21 3.97998C14.47 4.24998 14.24 4.64998 13.86 4.64998H6.03003C4.94003 4.64998 3.92003 4.96998 3.07003 5.51998C2.68003 5.76998 2.15003 5.49998 2.34003 5.06998C2.90003 3.75998 4.21003 2.84998 5.72003 2.84998H11.34C12.5 2.84998 13.53 3.25998 14.21 3.97998Z" fill=""/>
                    </svg>

                )
            }
            {

                
                index == 4 && (
                    <svg className={``} width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 12.62V14.68C22 15.24 21.54 15.7 20.97 15.7H19.04C17.96 15.7 16.97 14.91 16.88 13.83C16.82 13.2 17.06 12.61 17.48 12.2C17.85 11.82 18.36 11.6 18.92 11.6H20.97C21.54 11.6 22 12.06 22 12.62Z" fill=""/>
                        <path d="M15.38 13.96C15.29 12.91 15.67 11.88 16.43 11.13C17.07 10.48 17.96 10.1 18.92 10.1H19.49C19.77 10.1 20 9.87002 19.96 9.59002C19.69 7.65002 18.01 6.15002 16 6.15002H6C3.79 6.15002 2 7.94002 2 10.15V17.15C2 19.36 3.79 21.15 6 21.15H16C18.02 21.15 19.69 19.65 19.96 17.71C20 17.43 19.77 17.2 19.49 17.2H19.04C17.14 17.2 15.54 15.78 15.38 13.96ZM13 11.9H7C6.59 11.9 6.25 11.57 6.25 11.15C6.25 10.73 6.59 10.4 7 10.4H13C13.41 10.4 13.75 10.74 13.75 11.15C13.75 11.56 13.41 11.9 13 11.9Z" fill=""/>
                        <path d="M14.21 3.97998C14.47 4.24998 14.24 4.64998 13.86 4.64998H6.03003C4.94003 4.64998 3.92003 4.96998 3.07003 5.51998C2.68003 5.76998 2.15003 5.49998 2.34003 5.06998C2.90003 3.75998 4.21003 2.84998 5.72003 2.84998H11.34C12.5 2.84998 13.53 3.25998 14.21 3.97998Z" fill=""/>
                    </svg>

                )
            }
            {

            
                index === 5 && (
                    <svg className={``} width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 12.62V14.68C22 15.24 21.54 15.7 20.97 15.7H19.04C17.96 15.7 16.97 14.91 16.88 13.83C16.82 13.2 17.06 12.61 17.48 12.2C17.85 11.82 18.36 11.6 18.92 11.6H20.97C21.54 11.6 22 12.06 22 12.62Z" fill=""/>
                        <path d="M15.38 13.96C15.29 12.91 15.67 11.88 16.43 11.13C17.07 10.48 17.96 10.1 18.92 10.1H19.49C19.77 10.1 20 9.87002 19.96 9.59002C19.69 7.65002 18.01 6.15002 16 6.15002H6C3.79 6.15002 2 7.94002 2 10.15V17.15C2 19.36 3.79 21.15 6 21.15H16C18.02 21.15 19.69 19.65 19.96 17.71C20 17.43 19.77 17.2 19.49 17.2H19.04C17.14 17.2 15.54 15.78 15.38 13.96ZM13 11.9H7C6.59 11.9 6.25 11.57 6.25 11.15C6.25 10.73 6.59 10.4 7 10.4H13C13.41 10.4 13.75 10.74 13.75 11.15C13.75 11.56 13.41 11.9 13 11.9Z" fill=""/>
                        <path d="M14.21 3.97998C14.47 4.24998 14.24 4.64998 13.86 4.64998H6.03003C4.94003 4.64998 3.92003 4.96998 3.07003 5.51998C2.68003 5.76998 2.15003 5.49998 2.34003 5.06998C2.90003 3.75998 4.21003 2.84998 5.72003 2.84998H11.34C12.5 2.84998 13.53 3.25998 14.21 3.97998Z" fill=""/>
                    </svg>
                )
            }
            <span className={``}>{name}</span>
        </Link>
    );
}
 
export default NavBarItem ;